{% extends "base.html" %}
{% block title %}Главная - Simple Blog{% endblock %}
{% block content %}
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/static/css/home.css"/>
    <h1>Посты</h1>
    {% if posts %}
        <ul class="posts list-unstyled">
            {% for post in posts %}
                <li class="post-item mb-3 p-3">
                    <h2 class="post-title mb-2">{{ post.title }}</h2>
                    <div class="post-meta mb-2">Автор: {{ post.authorLogin }} |
                        Создано: {{ post.createdAt.split('T')[0] }}</div>
                    <p class="post-snippet mb-3">
                        {{ post.content[:200] }}{% if post.content|length > 200 %}...{% endif %}</p>
                    <div class="post-actions">
                        <a href="/posts/{{ post.id }}" class="btn-custom">Открыть</a>
                        <a href="/posts/{{ post.id }}/edit" class="btn-custom">Редактировать</a>
                        <form method="post" action="/posts/{{ post.id }}/delete" style="display:inline;">
                            <button type="submit" class="btn-custom">Удалить</button>
                        </form>
                    </div>

                </li>
            {% endfor %}
        </ul>
    {% else %}
        <p>Постов пока нет.</p>
    {% endif %}
{% endblock %}
